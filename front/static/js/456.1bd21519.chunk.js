"use strict";(self.webpackChunktvoishop=self.webpackChunktvoishop||[]).push([[456],{3070:function(e,t,n){n.d(t,{Ad:function(){return a}});n(6559);var s=n(2834),a=function(e){return(0,s.jsxs)("div",{className:"fixed flex flex-col justify-center items-center p-5",children:[(0,s.jsx)("img",{src:e.image,className:"lg:w-[350px] w-[250px]"}),(0,s.jsx)("span",{className:"gilroy lg:text-2xl text-xl text-[#919191] text-center mt-2 bg-white rounded-2xl p-3 shadow-lg shadow-[#ccc]",children:e.title})]})}},456:function(e,t,n){n.r(t),n.d(t,{default:function(){return B},postIcons:function(){return P}});var s=n(4165),a=n(1413),c=n(5861),o=n(885),r=n(9867),i=(n(6559),n(3857),n(6372)),l=n(4670),d=n(3047),u=n(2804),m=n(1980),h=n(5538),p=n(2834),f=function(e){var t=(0,r.useState)(!1),n=(0,o.Z)(t,2),s=n[0],a=n[1];return(0,p.jsx)("div",{className:"order-parent",children:(0,p.jsx)(d.U,{from:"bottom",positionOffset:400,triggerOffset:500,delayInMilliseconds:-550,durationInMilliseconds:850,children:(0,p.jsx)(m.Z,{onOutsideClick:e.onCancel,children:(0,p.jsxs)("div",{className:"paymentMethodeStyle",children:[(0,p.jsxs)("div",{className:"d-flex justify-content-center",children:[(0,p.jsx)("h6",{children:(0,h.O)("options|A")}),(0,p.jsx)(u.r,{className:"positionRight",onClick:e.onCancel})]}),(0,p.jsx)("div",{className:"order-element",children:(0,p.jsxs)("div",{className:"form-check",children:[(0,p.jsx)("input",{className:"form-check-input",type:"checkbox",value:"",id:"flexCheckDefault",checked:s,onChange:function(t){a(t.target.checked),t.target.checked?(e.handleButtonChange((0,h.O)("paymentMethod_post|A")),e.handlePaymentMethodChange((0,h.O)("paymentMethod_post|A"))):(e.handleButtonChange((0,h.O)("select|A")),e.handlePaymentMethodChange("")),setTimeout((function(){return e.onCancel()}),100)}}),(0,p.jsx)("label",{className:"form-check-label",children:(0,h.O)("paymentMethod_post|A")})]})})]})})})})},x=n(6334),v=n(5671),g=n(3144),j=n(4592),y=new(function(){function e(){(0,v.Z)(this,e),this.cookieOptions={httpOnly:!0,secure:!0,sameSite:"strict"}}return(0,g.Z)(e,[{key:"setCookie",value:function(e,t,n){j.Z.set(e,t,{expires:n})}},{key:"getCookie",value:function(e){return j.Z.get(e)}},{key:"deleteCookie",value:function(e){j.Z.remove(e)}}]),e}()),w=(n(6460),"Bearer");function C(){var e={},t=y.getCookie(w);return t&&(e.Authorization="Bearer "+t),{headers:e}}function N(e){return t="order",n=e,x.ZP.post(t,n,C());var t,n}var k=n(4439),O=n(1882),A=n(823),b=n(2486),M=n(5023),Z=n(904),S=n(3070),I=n(4861),P=[{name:(0,h.O)("nova post|A"),src:"https://play-lh.googleusercontent.com/mtyOm0Rp0PeG_BWE7M5j9gBWuU1Du34LLj-dLdSE1-006_BkFg32W3Cca00l2BBvNM0",alt:"Nova Post"},{name:(0,h.O)("ukr post|A"),src:"https://www.ukrposhta.ua/uploads/files/shares/pin_2.png",alt:"Ukr Post"},{name:(0,h.O)("meest|A"),src:"https://www.ukraqua.com/wp-content/uploads/2022/04/group_303_0.png",alt:"Meest"}],B=function(){var e=(0,r.useContext)(M.S),t=e.userData,n=e.setUserData,u=e.handleImageClick,m=e.handleInputChange,x=e.handlePaymentMethodChange,v=e.onCalcSymbolsOnlyChange,g=e.isActive,j=e.setIsActive,y=(0,r.useContext)(A.A),w=y.cart,C=y.endedPrice,B=(0,r.useContext)(b.H),_=B.paymentWindow,E=B.setPaymentWindow,T=(0,r.useState)(!1),D=(0,o.Z)(T,2),L=D[0],U=D[1],W=(0,r.useState)((0,h.O)("select|A")),q=(0,o.Z)(W,2),R=q[0],z=q[1],Y=(0,r.useState)(!1),F=(0,o.Z)(Y,2),G=F[0],H=F[1],K=(0,l.s0)(),V=(0,I.Z)().width<620,J=t.town,Q=t.postOffice,X=t.paymentMethod,$=t.selectedImage,ee=t.name,te=t.phone,ne=t.email,se=function(e){return L&&!e},ae=function(){var e=(0,c.Z)((0,s.Z)().mark((function e(){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(H(!0),setTimeout((function(){H(!1)}),5e3),J&&Q&&X&&ee&&te&&ne){e.next=6;break}return n((function(e){return(0,a.Z)((0,a.Z)({},e),{},{selectedImage:e.selectedImage||null,town:e.town||"",postOffice:e.postOffice||"",paymentMethod:e.paymentMethod||"",name:e.name||"",phone:e.phone||"",email:e.email||""})})),U(!0),e.abrupt("return");case 6:return e.prev=6,e.next=9,N({name:ee,phone:te,email:ne,selectedImage:$,town:J,postOffice:Q,paymentMethod:X,products:w.data,summary:C});case 9:k.Z.callToastr("Order placed successfully!"),K((0,Z.B)("order_confirmation")),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(6),H(!1),k.Z.callToastr("Error placing the order. Please try again");case 17:case"end":return e.stop()}}),e,null,[[6,13]])})));return function(){return e.apply(this,arguments)}}(),ce=function(){E(!_),j(!g)};return(0,p.jsxs)("div",{className:"grid md:grid-cols-2 grid-cols-1 mt-[50px] bg-white",children:[(0,p.jsxs)(d.U,{from:"bottom",positionOffset:700,triggerOffset:200,delayInMilliseconds:-550,durationInMilliseconds:850,children:[(0,p.jsx)(i.q,{children:(0,p.jsx)("title",{children:"\u0412\u0432\u0435\u0434\u0456\u0442\u044c \u0432\u0430\u0448\u0456 \u0434\u0430\u043d\u0456 \u0434\u043b\u044f \u0434\u043e\u0441\u0442\u0430\u0432\u043a\u0438 | TVOI"})}),(0,p.jsxs)("div",{className:"p-3",children:[(0,p.jsx)("div",{className:"w-full flex justify-center",children:(0,p.jsxs)("div",{className:"step-style text-secondary flex items-center cursor-pointer",onClick:function(){return K(-1)},children:[(0,p.jsx)(O.r,{className:"w-[30px] pr-2"}),(0,p.jsxs)("div",{children:[(0,h.O)("step|A")," 2/2"]})]})}),(0,p.jsxs)("div",{className:"order-element",children:[(0,p.jsxs)("label",{className:"inputStyle",children:["\xa0\xa0\xa0\xa0",(0,h.O)("post select|A"),":*"]}),(0,p.jsx)("div",{className:"rowStyle justify-content-center p-3",children:P.map((function(e){return(0,p.jsxs)("div",{className:"post-icon-container ".concat($===e.name?"selected":"").concat(se($)?"error":""),onClick:function(){return u(e.name)},children:[(0,p.jsx)("img",{className:"post-icon-size",src:e.src,alt:e.alt}),(0,p.jsx)("span",{children:e.name})]},e.name)}))}),(0,p.jsxs)("label",{className:"inputStyle",children:["\xa0\xa0\xa0\xa0",(0,h.O)("town select|A"),":*"]}),(0,p.jsxs)("div",{className:"rowStyle w-100",children:[(0,p.jsx)("div",{className:"columnStyle m-2 component-fill",children:(0,p.jsx)("input",{type:"text",name:"town",className:"form-control ".concat(se(J)?"error":""),placeholder:(0,h.O)("ex town|A"),value:J,onChange:m})}),(0,p.jsx)("div",{className:"columnStyle m-2 component-fill",children:(0,p.jsx)("input",{type:"text",name:"postOffice",className:"form-control ".concat(se(Q)?"error":""),placeholder:(0,h.O)("ex post|A"),value:Q,onKeyPress:v,onChange:m})})]})]}),(0,p.jsxs)("div",{className:"order-element",children:[(0,p.jsxs)("div",{className:"inputStyle columnStyle mt-2 ",children:["\xa0\xa0\xa0\xa0",(0,h.O)("payment|A"),":*"]}),(0,p.jsxs)("button",{className:"showbutton border !border-[#81a1f3] ".concat(g?"active":""," ").concat(se(X)?"error":""),onClick:ce,children:[G?(0,h.O)("loading..|A"):R,(0,p.jsx)("span",{className:"arrow"})]}),(0,p.jsxs)("span",{className:"inputStyle",children:[(0,h.O)("questions|A"),"?",(0,p.jsxs)("a",{href:"https://www.instagram.com/love.tvoi/?igshid=YmMyMTA2M2Y%3D",children:[" ",(0,h.O)("write us|A")]})]})]})]}),(0,p.jsx)("div",{className:"confirm-footer",children:(0,p.jsx)("div",{className:"w-100",children:(0,p.jsx)("button",{className:"btnConfirmCartStyle success-action",onClick:ae,disabled:G,children:G?(0,h.O)("loading..|A"):h.Z.translate("ok|A")})})}),_&&(0,p.jsx)(f,{onCancel:ce,handleButtonChange:function(e){z(e)},handlePaymentMethodChange:x})]}),!V&&(0,p.jsx)("div",{className:"ad-pos",children:(0,p.jsx)(S.Ad,{title:"\u0406\u0456\u0456... \u043e\u0441\u0442\u0430\u043d\u043d\u0456\u0439 \u043a\u0440\u043e\u043a \u0456 \u0442\u0432\u043e\u0454 \u0437\u0430\u043c\u043e\u0432\u043b\u0435\u043d\u043d\u044f \u0443\u0436\u0435 \u0432\u0456\u0434\u043f\u0440\u0430\u0432\u043b\u044f\u0454\u0442\u044c\u0441\u044f \u0434\u043e \u0442\u0435\u0431\u0435. \u041d\u0435 \u0437\u0443\u043f\u0438\u043d\u044f\u0439\u0441\u044f!",image:"animals/cat_4.png"})})]})}},1980:function(e,t,n){n.d(t,{Z:function(){return c}});var s=n(9867),a=n(2834);function c(e){var t=e.children,n=e.onOutsideClick,c=(0,s.useRef)(null);return function(e,t){(0,s.useEffect)((function(){function n(n){e.current&&!e.current.contains(n.target)&&t(n)}return document.addEventListener("mousedown",n),function(){document.removeEventListener("mousedown",n)}}),[e])}(c,n),(0,a.jsx)("div",{ref:c,children:t})}},6559:function(){},3857:function(){}}]);
//# sourceMappingURL=456.1bd21519.chunk.js.map