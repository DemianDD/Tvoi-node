{"version":3,"file":"static/js/456.4634e738.chunk.js","mappings":"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","sources":["components/Cart/Ad.tsx","components/Cart/Order/PaymentMethod.tsx","services/cookie.service.ts","api/login/bearer.ts","api/axios.ts","api/endpoints/order.ts","components/Cart/Order/ShippingData.tsx","components/helpers/Outside.tsx","../node_modules/jwt-decode/lib/atob.js","../node_modules/jwt-decode/lib/index.js","../node_modules/js-cookie/dist/js.cookie.mjs"],"sourcesContent":["import './Cart.css'\r\n\r\ninterface IProps{\r\n    image: string;\r\n    title: string;\r\n}\r\n\r\nexport const Ad = (props: IProps) => {\r\n    return(\r\n        <div className='fixed flex flex-col justify-center items-center p-5'>\r\n            <img src={props.image} className='lg:w-[350px] w-[250px]'/>\r\n            <span className='gilroy lg:text-2xl text-xl text-[#919191] text-center mt-2 bg-white rounded-2xl p-3 shadow-lg shadow-[#ccc]'>{props.title}</span>\r\n        </div>\r\n    )\r\n}","import { useState } from 'react';\r\nimport { FadeIn } from 'react-slide-fade-in';\r\nimport { ReactComponent as CloseIcon } from '../../../images/cancel.svg';\r\nimport OutsideAlerter from '../../helpers/Outside';\r\nimport '../Cart.css'\r\nimport './Order.css'\r\nimport { translateText } from '../../../services/translation.service';\r\n\r\ninterface IProps {\r\n  onCancel: () => void;\r\n  handleButtonChange: (text: string) => void;\r\n  handlePaymentMethodChange: (text: string) => void;\r\n}\r\n\r\nexport const PaymentMethod = (props: IProps) => {\r\n  const [isActive, setIsActive] = useState(false);\r\n\r\n  const handleCheckboxChange = (event: React.ChangeEvent<HTMLInputElement>) => {\r\n    setIsActive(event.target.checked);\r\n\r\n    if (event.target.checked) {\r\n      props.handleButtonChange(translateText('paymentMethod_post|A'));\r\n      props.handlePaymentMethodChange(translateText('paymentMethod_post|A'));\r\n    } else {\r\n      props.handleButtonChange(translateText('select|A'));\r\n      props.handlePaymentMethodChange(\"\");\r\n    }\r\n\r\n    setTimeout(() => props.onCancel(), 100);\r\n    \r\n  };\r\n\r\n  return (\r\n    <div className=\"order-parent\">\r\n      <FadeIn\r\n        from=\"bottom\"\r\n        positionOffset={400}\r\n        triggerOffset={500}\r\n        delayInMilliseconds={-550}\r\n        durationInMilliseconds={850}\r\n      >\r\n        <OutsideAlerter onOutsideClick={props.onCancel}>\r\n          <div className=\"paymentMethodeStyle\">\r\n            <div className=\"d-flex justify-content-center\">\r\n              <h6>{translateText('options|A')}</h6>\r\n              <CloseIcon className=\"positionRight\" onClick={props.onCancel} />\r\n            </div>\r\n            <div className=\"order-element\">\r\n              <div className=\"form-check\">\r\n                <input\r\n                  className=\"form-check-input\"\r\n                  type=\"checkbox\"\r\n                  value=\"\"\r\n                  id=\"flexCheckDefault\"\r\n                  checked={isActive}\r\n                  onChange={handleCheckboxChange}\r\n                />\r\n                <label className=\"form-check-label\">\r\n                  {translateText('paymentMethod_post|A')}\r\n                </label>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </OutsideAlerter>\r\n      </FadeIn>\r\n    </div>\r\n  );\r\n};","import Cookies from \"js-cookie\";\r\n\r\nclass CookieService {\r\n    private cookieOptions = {\r\n        httpOnly: true,\r\n        secure: true,\r\n        sameSite: 'strict',\r\n    };\r\n    \r\n    /*public setCookie(name: string, value: string, expirationTime?: number) {\r\n        let cookieString = `${name}=${value}; `;\r\n        \r\n        if (expirationTime) {\r\n            const expirationDate = new Date(expirationTime);\r\n            cookieString += `expires=${expirationDate.toUTCString()}; `;\r\n        }\r\n        \r\n        cookieString += `httpOnly=${this.cookieOptions.httpOnly}; secure=${this.cookieOptions.secure}; sameSite=${this.cookieOptions.sameSite}`;\r\n        console.log(cookieString);\r\n        document.cookie = cookieString;  \r\n    }*/\r\n\r\n    public setCookie(name: string, value: string, expirationTime?: number) {\r\n        Cookies.set(name, value, { expires: expirationTime });\r\n    }\r\n    \r\n    /*public getCookie(name: string): string | undefined {\r\n        const cookies = document.cookie.split(';');\r\n    \r\n        for (let i = 0; i < cookies.length; i++) {\r\n            const cookie = cookies[i].trim();\r\n    \r\n            if (cookie.startsWith(name + '=')) {\r\n                return cookie.substring(name.length + 1);\r\n            }\r\n        }\r\n    \r\n        return undefined;\r\n    }*/\r\n\r\n    public getCookie(name: string): string | undefined {\r\n        return Cookies.get(name);\r\n    }\r\n    \r\n    /*public deleteCookie(name: string) {\r\n        const pastDate = new Date(0);\r\n        const cookieString = `${name}=; expires=${pastDate.toUTCString()}`;\r\n        document.cookie = cookieString;\r\n    }*/\r\n\r\n    public deleteCookie(name: string) {\r\n        Cookies.remove(name);\r\n    }\r\n}\r\n\r\nconst cookieService = new CookieService();\r\n\r\nexport default cookieService;","import cookieService from \"../../services/cookie.service\";\r\nimport jwtDecode from 'jwt-decode';\r\n\r\nconst key = \"Bearer\";\r\n\r\ninterface IJWTData {\r\n    exp: number;\r\n    nbf: number;\r\n}\r\n\r\nexport const AddBearer = (bearer: string) => {\r\n    var bearerData = jwtDecode<IJWTData>(bearer);\r\n\r\n    cookieService.setCookie(key, bearer, bearerData.exp * 1000);\r\n}\r\n\r\nexport const GetBearer = () => {\r\n    return cookieService.getCookie(key);\r\n}","import axios from 'axios';\r\nimport { GetBearer } from './login/bearer';\r\n\r\nfunction getConfig() {\r\n    var headers: {[i: string] : string} = {};\r\n\r\n    var bearer = GetBearer();\r\n    if (bearer) {\r\n        headers.Authorization = \"Bearer \" + bearer;\r\n    }\r\n\r\n    return {\r\n        headers: headers\r\n    };\r\n}\r\n\r\nexport function get<T>(url: string) {\r\n    return axios.get<T>(url, getConfig());\r\n}\r\n\r\nexport function post<T>(url: string, data: any) {\r\n    return axios.post<T>(url, data, getConfig());\r\n}\r\n\r\nexport function patch<T>(url: string, data: any) {\r\n    return axios.patch<T>(url, data, getConfig());\r\n}\r\n\r\nexport function del<T>(url: string) {\r\n    return axios.delete<T>(url, getConfig());\r\n}","import { post } from \"../axios\";\r\nimport { ORDER } from \"../constants\";\r\n\r\nexport function ProceedOrder(order: IOrder) {\r\n    return post(`order`, order);\r\n}","import React, { useContext, useState } from \"react\";\r\nimport '../Cart.css';\r\nimport './Order.css';\r\nimport { Helmet } from 'react-helmet';\r\nimport { useNavigate } from \"react-router\";\r\nimport { FadeIn } from \"react-slide-fade-in\";\r\nimport { PaymentMethod } from \"./PaymentMethod\";\r\nimport { ProceedOrder } from \"../../../api/endpoints/order\";\r\nimport toastrService from \"../../../services/toastr.service\";\r\nimport translationService, { translateText } from \"../../../services/translation.service\";\r\nimport { ReactComponent as BackIcon } from '../../../images/leftIcon.svg';\r\nimport { CartContext } from \"../../../context/cart-context\";\r\nimport { WindowContext } from \"../../../context/window-context\";\r\nimport { UserContext } from \"../../../context/user-context\";\r\nimport { getRoute } from \"../../../services/routes.service\";\r\nimport { Ad } from \"../Ad\";\r\nimport useWindowSize from \"../../../hooks/UseWindowSize\";\r\n\r\nexport const postIcons = [\r\n  {\r\n    name: translateText('nova post|A'),\r\n    src: \"https://play-lh.googleusercontent.com/mtyOm0Rp0PeG_BWE7M5j9gBWuU1Du34LLj-dLdSE1-006_BkFg32W3Cca00l2BBvNM0\",\r\n    alt: \"Nova Post\",\r\n  },\r\n  {\r\n    name: translateText('ukr post|A'),\r\n    src: \"https://www.ukrposhta.ua/uploads/files/shares/pin_2.png\",\r\n    alt: \"Ukr Post\",\r\n  },\r\n  {\r\n    name: translateText('meest|A'),\r\n    src: \"https://www.ukraqua.com/wp-content/uploads/2022/04/group_303_0.png\",\r\n    alt: \"Meest\",\r\n  },\r\n];\r\n\r\nconst ShippingData = () => {\r\n  const {\r\n    userData,\r\n    setUserData,\r\n    handleImageClick,\r\n    handleInputChange,\r\n    handlePaymentMethodChange,\r\n    onCalcSymbolsOnlyChange,\r\n    isActive,\r\n    setIsActive,\r\n  } = useContext(UserContext);\r\n\r\n  const { cart, endedPrice } = useContext(CartContext);\r\n  const { paymentWindow, setPaymentWindow } = useContext(WindowContext);\r\n\r\n  const [isFormSubmitted, setIsFormSubmitted] = useState(false);\r\n  const [buttonText, setButtonText] = useState(translateText('select|A'));\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  const navigate = useNavigate();\r\n  const size = useWindowSize();\r\n  const isMobile = size.width < 620;\r\n\r\n  const {\r\n    town,\r\n    postOffice,\r\n    paymentMethod,\r\n    selectedImage,\r\n    name,\r\n    phone,\r\n    email,\r\n  } = userData;\r\n\r\n  const isError = (field) => isFormSubmitted && !field;\r\n\r\n  const handleOrderConfirmation = async () => {\r\n    setLoading(true);\r\n\r\n    setTimeout(() => {\r\n      setLoading(false);\r\n    }, 5000);\r\n\r\n    if (!town || !postOffice || !paymentMethod || !name || !phone || !email) {\r\n      setUserData((prevOrder) => ({\r\n        ...prevOrder,\r\n        selectedImage: prevOrder.selectedImage || null,\r\n        town: prevOrder.town || \"\",\r\n        postOffice: prevOrder.postOffice || \"\",\r\n        paymentMethod: prevOrder.paymentMethod || \"\",\r\n        name: prevOrder.name || \"\",\r\n        phone: prevOrder.phone || \"\",\r\n        email: prevOrder.email || \"\",\r\n      }));\r\n\r\n      setIsFormSubmitted(true);\r\n      return;\r\n    }\r\n\r\n    try {\r\n      await ProceedOrder({\r\n        name: name,\r\n        phone: phone,\r\n        email: email,\r\n        selectedImage: selectedImage,\r\n        town: town,\r\n        postOffice: postOffice,\r\n        paymentMethod: paymentMethod,\r\n        products: cart.data,\r\n        summary: endedPrice,\r\n      });\r\n\r\n      toastrService.callToastr(\"Order placed successfully!\");\r\n      navigate(getRoute(`order_confirmation`));\r\n    } catch (error) {\r\n      setLoading(false);\r\n      toastrService.callToastr(\"Error placing the order. Please try again\");\r\n    }\r\n  };\r\n\r\n  const handleButtonChange = (text) => {\r\n    setButtonText(text);\r\n  };\r\n\r\n  const handlePayment = () => {\r\n    setPaymentWindow(!paymentWindow);\r\n    setIsActive(!isActive);\r\n  };\r\n\r\n  return (\r\n    <div className=\"grid md:grid-cols-2 grid-cols-1 mt-[50px] bg-white\">\r\n      <FadeIn\r\n        from=\"bottom\"\r\n        positionOffset={700}\r\n        triggerOffset={200}\r\n        delayInMilliseconds={-550}\r\n        durationInMilliseconds={850}\r\n      >\r\n        <Helmet>\r\n          <title>Введіть ваші дані для доставки | TVOI</title>\r\n        </Helmet>\r\n        <div className=\"p-3\">\r\n          <div className=\"w-full flex justify-center\">\r\n            <div className=\"step-style text-secondary flex items-center cursor-pointer\" onClick={() => navigate(-1)}>\r\n              <BackIcon className=\"w-[30px] pr-2\"/>\r\n              <div>{translateText('step|A')} 2/2</div>\r\n            </div>\r\n          </div>\r\n          <div className=\"order-element\">\r\n            <label className=\"inputStyle\">&nbsp;&nbsp;&nbsp;&nbsp;{translateText('post select|A')}:*</label>\r\n            <div className=\"rowStyle justify-content-center p-3\">\r\n              {postIcons.map((icon) => (\r\n                <div\r\n                  key={icon.name}\r\n                  className={`post-icon-container ${selectedImage === icon.name ? \"selected\" : \"\"}${isError(selectedImage) ? \"error\" : \"\"}`}\r\n                  onClick={() => handleImageClick(icon.name)}\r\n                >\r\n                  <img className=\"post-icon-size\" src={icon.src} alt={icon.alt} />\r\n                  <span>{icon.name}</span>\r\n                </div>\r\n              ))}\r\n            </div>\r\n            <label className=\"inputStyle\">&nbsp;&nbsp;&nbsp;&nbsp;{translateText('town select|A')}:*</label>\r\n            <div className=\"rowStyle w-100\">\r\n              <div className=\"columnStyle m-2 component-fill\">\r\n                <input\r\n                  type=\"text\"\r\n                  name=\"town\"\r\n                  className={`form-control ${isError(town) ? \"error\" : \"\"}`}\r\n                  placeholder={translateText('ex town|A')}\r\n                  value={town}\r\n                  onChange={handleInputChange}\r\n                />\r\n              </div>\r\n              <div className=\"columnStyle m-2 component-fill\">\r\n                <input\r\n                  type=\"text\"\r\n                  name=\"postOffice\"\r\n                  className={`form-control ${isError(postOffice) ? \"error\" : \"\"}`}\r\n                  placeholder={translateText('ex post|A')}\r\n                  value={postOffice}\r\n                  onKeyPress={onCalcSymbolsOnlyChange}\r\n                  onChange={handleInputChange}\r\n                />\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div className=\"order-element\">\r\n            <div className=\"inputStyle columnStyle mt-2 \">&nbsp;&nbsp;&nbsp;&nbsp;\r\n              {translateText('payment|A')}:*\r\n            </div>\r\n            <button\r\n              className={`showbutton border !border-[#81a1f3] ${isActive ? 'active' : ''} ${isError(paymentMethod) ? 'error' : ''}`}\r\n              onClick={handlePayment}\r\n            >\r\n              {loading ? translateText('loading..|A') : buttonText}\r\n              <span className=\"arrow\"></span>\r\n            </button>\r\n            <span className=\"inputStyle\">\r\n              {translateText('questions|A')}? \r\n              <a href=\"https://www.instagram.com/love.tvoi/?igshid=YmMyMTA2M2Y%3D\"> {translateText('write us|A')}</a>\r\n            </span>\r\n          </div>\r\n        </div>\r\n        <div className=\"confirm-footer\">\r\n          <div className=\"w-100\">\r\n            <button className=\"btnConfirmCartStyle success-action\" onClick={handleOrderConfirmation} disabled={loading}>\r\n              {loading ? translateText('loading..|A') : translationService.translate('ok|A')}\r\n            </button>\r\n          </div>\r\n        </div>\r\n        {paymentWindow && (\r\n          <PaymentMethod \r\n            onCancel={handlePayment} \r\n            handleButtonChange={handleButtonChange} \r\n            handlePaymentMethodChange={handlePaymentMethodChange}\r\n          />\r\n        )}\r\n      </FadeIn>\r\n      {!isMobile && (\r\n        <div className='ad-pos'>\r\n          <Ad title='Ііі... останній крок і твоє замовлення уже відправляється до тебе. Не зупиняйся!' image='animals/cat_4.png'/>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ShippingData;\r\n","import React, { useRef, useEffect } from \"react\";\r\n\r\n\r\nfunction useOutsideAlerter(ref: React.MutableRefObject<HTMLDivElement | undefined | null>, onOutsideClick: (event?: any) => void) {\r\n  useEffect(() => {\r\n    /**\r\n     * Alert if clicked on outside of element\r\n     */\r\n    function handleClickOutside(event: any) {\r\n      if (ref.current && !ref.current.contains(event.target)) {\r\n        onOutsideClick(event);\r\n      }\r\n    }\r\n    // Bind the event listener\r\n    document.addEventListener(\"mousedown\", handleClickOutside);\r\n    return () => {\r\n      // Unbind the event listener on clean up\r\n      document.removeEventListener(\"mousedown\", handleClickOutside);\r\n    };\r\n  }, [ref]);\r\n}\r\n\r\ninterface IProps{\r\n  children: React.ReactNode[] | React.ReactNode;\r\n  onOutsideClick: (event?: any) => void;\r\n}\r\n\r\nexport default function OutsideAlerter({children, onOutsideClick}:IProps) {\r\n  const wrapperRef = useRef(null);\r\n  useOutsideAlerter(wrapperRef, onOutsideClick);\r\n\r\n  return <div ref={wrapperRef}>{children}</div>;\r\n}","/**\n * The code was extracted from:\n * https://github.com/davidchambers/Base64.js\n */\n\nvar chars = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\";\n\nfunction InvalidCharacterError(message) {\n    this.message = message;\n}\n\nInvalidCharacterError.prototype = new Error();\nInvalidCharacterError.prototype.name = \"InvalidCharacterError\";\n\nfunction polyfill(input) {\n    var str = String(input).replace(/=+$/, \"\");\n    if (str.length % 4 == 1) {\n        throw new InvalidCharacterError(\n            \"'atob' failed: The string to be decoded is not correctly encoded.\"\n        );\n    }\n    for (\n        // initialize result and counters\n        var bc = 0, bs, buffer, idx = 0, output = \"\";\n        // get next character\n        (buffer = str.charAt(idx++));\n        // character found in table? initialize bit storage and add its ascii value;\n        ~buffer &&\n        ((bs = bc % 4 ? bs * 64 + buffer : buffer),\n            // and if not first of each 4 characters,\n            // convert the first 8 bits to one ascii character\n            bc++ % 4) ?\n        (output += String.fromCharCode(255 & (bs >> ((-2 * bc) & 6)))) :\n        0\n    ) {\n        // try to find character in table (0-63, not found => -1)\n        buffer = chars.indexOf(buffer);\n    }\n    return output;\n}\n\nexport default (typeof window !== \"undefined\" &&\n    window.atob &&\n    window.atob.bind(window)) ||\npolyfill;","\"use strict\";\n\nimport base64_url_decode from \"./base64_url_decode\";\n\nexport function InvalidTokenError(message) {\n    this.message = message;\n}\n\nInvalidTokenError.prototype = new Error();\nInvalidTokenError.prototype.name = \"InvalidTokenError\";\n\nexport default function(token, options) {\n    if (typeof token !== \"string\") {\n        throw new InvalidTokenError(\"Invalid token specified\");\n    }\n\n    options = options || {};\n    var pos = options.header === true ? 0 : 1;\n    try {\n        return JSON.parse(base64_url_decode(token.split(\".\")[pos]));\n    } catch (e) {\n        throw new InvalidTokenError(\"Invalid token specified: \" + e.message);\n    }\n}","/*! js-cookie v3.0.1 | MIT */\n/* eslint-disable no-var */\nfunction assign (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n    for (var key in source) {\n      target[key] = source[key];\n    }\n  }\n  return target\n}\n/* eslint-enable no-var */\n\n/* eslint-disable no-var */\nvar defaultConverter = {\n  read: function (value) {\n    if (value[0] === '\"') {\n      value = value.slice(1, -1);\n    }\n    return value.replace(/(%[\\dA-F]{2})+/gi, decodeURIComponent)\n  },\n  write: function (value) {\n    return encodeURIComponent(value).replace(\n      /%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,\n      decodeURIComponent\n    )\n  }\n};\n/* eslint-enable no-var */\n\n/* eslint-disable no-var */\n\nfunction init (converter, defaultAttributes) {\n  function set (key, value, attributes) {\n    if (typeof document === 'undefined') {\n      return\n    }\n\n    attributes = assign({}, defaultAttributes, attributes);\n\n    if (typeof attributes.expires === 'number') {\n      attributes.expires = new Date(Date.now() + attributes.expires * 864e5);\n    }\n    if (attributes.expires) {\n      attributes.expires = attributes.expires.toUTCString();\n    }\n\n    key = encodeURIComponent(key)\n      .replace(/%(2[346B]|5E|60|7C)/g, decodeURIComponent)\n      .replace(/[()]/g, escape);\n\n    var stringifiedAttributes = '';\n    for (var attributeName in attributes) {\n      if (!attributes[attributeName]) {\n        continue\n      }\n\n      stringifiedAttributes += '; ' + attributeName;\n\n      if (attributes[attributeName] === true) {\n        continue\n      }\n\n      // Considers RFC 6265 section 5.2:\n      // ...\n      // 3.  If the remaining unparsed-attributes contains a %x3B (\";\")\n      //     character:\n      // Consume the characters of the unparsed-attributes up to,\n      // not including, the first %x3B (\";\") character.\n      // ...\n      stringifiedAttributes += '=' + attributes[attributeName].split(';')[0];\n    }\n\n    return (document.cookie =\n      key + '=' + converter.write(value, key) + stringifiedAttributes)\n  }\n\n  function get (key) {\n    if (typeof document === 'undefined' || (arguments.length && !key)) {\n      return\n    }\n\n    // To prevent the for loop in the first place assign an empty array\n    // in case there are no cookies at all.\n    var cookies = document.cookie ? document.cookie.split('; ') : [];\n    var jar = {};\n    for (var i = 0; i < cookies.length; i++) {\n      var parts = cookies[i].split('=');\n      var value = parts.slice(1).join('=');\n\n      try {\n        var foundKey = decodeURIComponent(parts[0]);\n        jar[foundKey] = converter.read(value, foundKey);\n\n        if (key === foundKey) {\n          break\n        }\n      } catch (e) {}\n    }\n\n    return key ? jar[key] : jar\n  }\n\n  return Object.create(\n    {\n      set: set,\n      get: get,\n      remove: function (key, attributes) {\n        set(\n          key,\n          '',\n          assign({}, attributes, {\n            expires: -1\n          })\n        );\n      },\n      withAttributes: function (attributes) {\n        return init(this.converter, assign({}, this.attributes, attributes))\n      },\n      withConverter: function (converter) {\n        return init(assign({}, this.converter, converter), this.attributes)\n      }\n    },\n    {\n      attributes: { value: Object.freeze(defaultAttributes) },\n      converter: { value: Object.freeze(converter) }\n    }\n  )\n}\n\nvar api = init(defaultConverter, { path: '/' });\n/* eslint-enable no-var */\n\nexport default api;\n"],"names":["Ad","props","className","src","image","title","PaymentMethod","useState","isActive","setIsActive","from","positionOffset","triggerOffset","delayInMilliseconds","durationInMilliseconds","Outside","onOutsideClick","onCancel","translateText","onClick","type","value","id","checked","onChange","event","target","handleButtonChange","handlePaymentMethodChange","setTimeout","cookieOptions","httpOnly","secure","sameSite","name","expirationTime","Cookies","expires","key","getConfig","headers","bearer","cookieService","Authorization","ProceedOrder","order","url","data","axios","postIcons","alt","useContext","UserContext","userData","setUserData","handleImageClick","handleInputChange","onCalcSymbolsOnlyChange","CartContext","cart","endedPrice","WindowContext","paymentWindow","setPaymentWindow","isFormSubmitted","setIsFormSubmitted","buttonText","setButtonText","loading","setLoading","navigate","useNavigate","isMobile","useWindowSize","width","town","postOffice","paymentMethod","selectedImage","phone","email","isError","field","handleOrderConfirmation","prevOrder","products","summary","toastrService","getRoute","handlePayment","Helmet","map","icon","placeholder","onKeyPress","href","disabled","translationService","text","OutsideAlerter","children","wrapperRef","useRef","ref","useEffect","handleClickOutside","current","contains","document","addEventListener","removeEventListener","useOutsideAlerter","InvalidCharacterError","message","this","prototype","Error","window","atob","bind","InvalidTokenError","assign","i","arguments","length","source","api","init","converter","defaultAttributes","set","attributes","Date","now","toUTCString","encodeURIComponent","replace","decodeURIComponent","escape","stringifiedAttributes","attributeName","split","cookie","write","Object","create","get","cookies","jar","parts","slice","join","foundKey","read","e","remove","withAttributes","withConverter","freeze","path"],"sourceRoot":""}